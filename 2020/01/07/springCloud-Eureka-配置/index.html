<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="我是程序猿"><title>springCloud_Eureka_配置 | 朝阳</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css?v=2.0.3"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js?v=2.0.3"></script><script src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=2.0.3"></script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">springCloud_Eureka_配置</h1><a id="logo" href="/.">朝阳</a><p class="description">前方是绝路，希望在转角</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 主页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">springCloud_Eureka_配置</h1><div class="post-meta"><a href="/2020/01/07/springCloud-Eureka-配置/#comments" class="comment-count"></a><p><span class="date">Jan 07, 2020</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h3 id="springCloud-Eureka-配置"><a href="#springCloud-Eureka-配置" class="headerlink" title="springCloud_Eureka_配置"></a>springCloud_Eureka_配置</h3><h4 id="Eureka-instance"><a href="#Eureka-instance" class="headerlink" title="Eureka instance"></a>Eureka instance</h4><p>一个服务，如：订单系统，会部署多台服务器，而每台服务器上提供的服务就是instance; 负载配置。</p>
<h4 id="Eureka-service"><a href="#Eureka-service" class="headerlink" title="Eureka service"></a>Eureka service</h4><p>指的是服务，提供一种特定功能的服务，如：订单系统，而同一个服务可以提供多个instance;</p>
<h4 id="Eureka-client"><a href="#Eureka-client" class="headerlink" title="Eureka client"></a>Eureka client</h4><p>主要将自己的服务注册到服务中心。但它既可以是服务的提供者也可以是消费者。它与Eureka instance感觉差不多，但其实意义是不一样的，Eureka client是相较于Eureka server来说的。而Eureka instance更倾向于负载技术。</p>
<h4 id="Eureka-server"><a href="#Eureka-server" class="headerlink" title="Eureka server"></a>Eureka server</h4><p>服务注册中心。并管理各服务的中心。</p>
<h5 id="Eureka-instance-配置项"><a href="#Eureka-instance-配置项" class="headerlink" title="Eureka instance 配置项"></a>Eureka instance 配置项</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">#服务注册中心实例的主机名</span><br><span class="line">eureka.instance.hostname=localhost</span><br><span class="line">#注册在Eureka服务中的应用组名</span><br><span class="line">eureka.instance.app-group-name=</span><br><span class="line">#注册在的Eureka服务中的应用名称</span><br><span class="line">eureka.instance.appname=</span><br><span class="line">#该实例注册到服务中心的唯一ID</span><br><span class="line">eureka.instance.instance-id=</span><br><span class="line">#该实例的IP地址</span><br><span class="line">eureka.instance.ip-address=</span><br><span class="line">#该实例，相较于hostname是否优先使用IP</span><br><span class="line">eureka.instance.prefer-ip-address=false</span><br><span class="line"></span><br><span class="line">#用于AWS平台自动扩展的与此实例关联的组名，</span><br><span class="line">eureka.instance.a-s-g-name=</span><br><span class="line">#部署此实例的数据中心</span><br><span class="line">eureka.instance.data-center-info=</span><br><span class="line">#默认的地址解析顺序</span><br><span class="line">eureka.instance.default-address-resolution-order=</span><br><span class="line">#该实例的环境配置</span><br><span class="line">eureka.instance.environment=</span><br><span class="line">#初始化该实例，注册到服务中心的初始状态</span><br><span class="line">eureka.instance.initial-status=up</span><br><span class="line">#表明是否只要此实例注册到服务中心，立马就进行通信</span><br><span class="line">eureka.instance.instance-enabled-onit=false</span><br><span class="line">#该服务实例的命名空间,用于查找属性</span><br><span class="line">eureka.instance.namespace=eureka</span><br><span class="line">#该服务实例的子定义元数据，可以被服务中心接受到</span><br><span class="line">eureka.instance.metadata-map.test = test</span><br><span class="line"></span><br><span class="line">#服务中心删除此服务实例的等待时间(秒为单位),时间间隔为最后一次服务中心接受到的心跳时间</span><br><span class="line">eureka.instance.lease-expiration-duration-in-seconds=90</span><br><span class="line">#该实例给服务中心发送心跳的间隔时间，用于表明该服务实例可用</span><br><span class="line">eureka.instance.lease-renewal-interval-in-seconds=30</span><br><span class="line">#该实例，注册服务中心，默认打开的通信数量</span><br><span class="line">eureka.instance.registry.default-open-for-traffic-count=1</span><br><span class="line">#每分钟续约次数</span><br><span class="line">eureka.instance.registry.expected-number-of-renews-per-min=1</span><br><span class="line"></span><br><span class="line">#该实例健康检查url,绝对路径</span><br><span class="line">eureka.instance.health-check-url=</span><br><span class="line">#该实例健康检查url,相对路径</span><br><span class="line">eureka.instance.health-check-url-path=/health</span><br><span class="line">#该实例的主页url,绝对路径</span><br><span class="line">eureka.instance.home-page-url=</span><br><span class="line">#该实例的主页url,相对路径</span><br><span class="line">eureka.instance.home-page-url-path=/</span><br><span class="line">#该实例的安全健康检查url,绝对路径</span><br><span class="line">eureka.instance.secure-health-check-url=</span><br><span class="line">#https通信端口</span><br><span class="line">eureka.instance.secure-port=443</span><br><span class="line">#https通信端口是否启用</span><br><span class="line">eureka.instance.secure-port-enabled=false</span><br><span class="line">#http通信端口</span><br><span class="line">eureka.instance.non-secure-port=80</span><br><span class="line">#http通信端口是否启用</span><br><span class="line">eureka.instance.non-secure-port-enabled=true</span><br><span class="line">#该实例的安全虚拟主机名称(https)</span><br><span class="line">eureka.instance.secure-virtual-host-name=unknown</span><br><span class="line">#该实例的虚拟主机名称(http)</span><br><span class="line">eureka.instance.virtual-host-name=unknown</span><br><span class="line">#该实例的状态呈现url,绝对路径</span><br><span class="line">eureka.instance.status-page-url=</span><br><span class="line">#该实例的状态呈现url,相对路径</span><br><span class="line">eureka.instance.status-page-url-path=/status</span><br></pre></td></tr></table></figure>
<h5 id="Eureka-client-配置"><a href="#Eureka-client-配置" class="headerlink" title="Eureka client 配置"></a>Eureka client 配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line">#该客户端是否可用</span><br><span class="line">eureka.client.enabled=true</span><br><span class="line">#实例是否在eureka服务器上注册自己的信息以供其他服务发现，默认为true</span><br><span class="line">eureka.client.register-with-eureka=false</span><br><span class="line">#此客户端是否获取eureka服务器注册表上的注册信息，默认为true</span><br><span class="line">eureka.client.fetch-registry=false</span><br><span class="line">#是否过滤掉，非UP的实例。默认为true</span><br><span class="line">eureka.client.filter-only-up-instances=true</span><br><span class="line">#与Eureka注册服务中心的通信zone和url地址</span><br><span class="line">eureka.client.serviceUrl.defaultZone=http://$&#123;eureka.instance.hostname&#125;:$&#123;server.port&#125;/eureka/</span><br><span class="line"></span><br><span class="line">#client连接Eureka服务端后的空闲等待时间，默认为30 秒</span><br><span class="line">eureka.client.eureka-connection-idle-timeout-seconds=30</span><br><span class="line">#client连接eureka服务端的连接超时时间，默认为5秒</span><br><span class="line">eureka.client.eureka-server-connect-timeout-seconds=5</span><br><span class="line">#client对服务端的读超时时长</span><br><span class="line">eureka.client.eureka-server-read-timeout-seconds=8</span><br><span class="line">#client连接all eureka服务端的总连接数，默认200</span><br><span class="line">eureka.client.eureka-server-total-connections=200</span><br><span class="line">#client连接eureka服务端的单机连接数量，默认50</span><br><span class="line">eureka.client.eureka-server-total-connections-per-host=50</span><br><span class="line">#执行程序指数回退刷新的相关属性，是重试延迟的最大倍数值，默认为10</span><br><span class="line">eureka.client.cache-refresh-executor-exponential-back-off-bound=10</span><br><span class="line">#执行程序缓存刷新线程池的大小，默认为5</span><br><span class="line">eureka.client.cache-refresh-executor-thread-pool-size=2</span><br><span class="line">#心跳执行程序回退相关的属性，是重试延迟的最大倍数值，默认为10</span><br><span class="line">eureka.client.heartbeat-executor-exponential-back-off-bound=10</span><br><span class="line">#心跳执行程序线程池的大小,默认为5</span><br><span class="line">eureka.client.heartbeat-executor-thread-pool-size=5</span><br><span class="line"># 询问Eureka服务url信息变化的频率（s），默认为300秒</span><br><span class="line">eureka.client.eureka-service-url-poll-interval-seconds=300</span><br><span class="line">#最初复制实例信息到eureka服务器所需的时间（s），默认为40秒</span><br><span class="line">eureka.client.initial-instance-info-replication-interval-seconds=40</span><br><span class="line">#间隔多长时间再次复制实例信息到eureka服务器，默认为30秒</span><br><span class="line">eureka.client.instance-info-replication-interval-seconds=30</span><br><span class="line">#从eureka服务器注册表中获取注册信息的时间间隔（s），默认为30秒</span><br><span class="line">eureka.client.registry-fetch-interval-seconds=30</span><br><span class="line"></span><br><span class="line"># 获取实例所在的地区。默认为us-east-1</span><br><span class="line">eureka.client.region=us-east-1</span><br><span class="line">#实例是否使用同一zone里的eureka服务器，默认为true，理想状态下，eureka客户端与服务端是在同一zone下</span><br><span class="line">eureka.client.prefer-same-zone-eureka=true</span><br><span class="line"># 获取实例所在的地区下可用性的区域列表，用逗号隔开。（AWS）</span><br><span class="line">eureka.client.availability-zones.china=defaultZone,defaultZone1,defaultZone2</span><br><span class="line">#eureka服务注册表信息里的以逗号隔开的地区名单，如果不这样返回这些地区名单，则客户端启动将会出错。默认为null</span><br><span class="line">eureka.client.fetch-remote-regions-registry=</span><br><span class="line">#服务器是否能够重定向客户端请求到备份服务器。 如果设置为false，服务器将直接处理请求，如果设置为true，它可能发送HTTP重定向到客户端。默认为false</span><br><span class="line">eureka.client.allow-redirects=false</span><br><span class="line">#客户端数据接收</span><br><span class="line">eureka.client.client-data-accept=</span><br><span class="line">#增量信息是否可以提供给客户端看，默认为false</span><br><span class="line">eureka.client.disable-delta=false</span><br><span class="line">#eureka服务器序列化/反序列化的信息中获取“_”符号的的替换字符串。默认为“__“</span><br><span class="line">eureka.client.escape-char-replacement=__</span><br><span class="line">#eureka服务器序列化/反序列化的信息中获取“$”符号的替换字符串。默认为“_-”</span><br><span class="line">eureka.client.dollar-replacement=&quot;_-&quot;</span><br><span class="line">#当服务端支持压缩的情况下，是否支持从服务端获取的信息进行压缩。默认为true</span><br><span class="line">eureka.client.g-zip-content=true</span><br><span class="line">#是否记录eureka服务器和客户端之间在注册表的信息方面的差异，默认为false</span><br><span class="line">eureka.client.log-delta-diff=false</span><br><span class="line"># 如果设置为true,客户端的状态更新将会点播更新到远程服务器上，默认为true</span><br><span class="line">eureka.client.on-demand-update-status-change=true</span><br><span class="line">#此客户端只对一个单一的VIP注册表的信息感兴趣。默认为null</span><br><span class="line">eureka.client.registry-refresh-single-vip-address=</span><br><span class="line">#client是否在初始化阶段强行注册到服务中心，默认为false</span><br><span class="line">eureka.client.should-enforce-registration-at-init=false</span><br><span class="line">#client在shutdown的时候是否显示的注销服务从服务中心，默认为true</span><br><span class="line">eureka.client.should-unregister-on-shutdown=true</span><br><span class="line"></span><br><span class="line"># 获取eureka服务的代理主机，默认为null</span><br><span class="line">eureka.client.proxy-host=</span><br><span class="line">#获取eureka服务的代理密码，默认为null</span><br><span class="line">eureka.client.proxy-password=</span><br><span class="line"># 获取eureka服务的代理端口, 默认为null</span><br><span class="line">eureka.client.proxy-port=</span><br><span class="line"># 获取eureka服务的代理用户名，默认为null</span><br><span class="line">eureka.client.proxy-user-name=</span><br><span class="line"></span><br><span class="line">#属性解释器</span><br><span class="line">eureka.client.property-resolver=</span><br><span class="line">#获取实现了eureka客户端在第一次启动时读取注册表的信息作为回退选项的实现名称</span><br><span class="line">eureka.client.backup-registry-impl=</span><br><span class="line">#这是一个短暂的×××的配置，如果最新的×××是稳定的，则可以去除，默认为null</span><br><span class="line">eureka.client.decoder-name=</span><br><span class="line">#这是一个短暂的编码器的配置，如果最新的编码器是稳定的，则可以去除，默认为null</span><br><span class="line">eureka.client.encoder-name=</span><br><span class="line"></span><br><span class="line">#是否使用DNS机制去获取服务列表，然后进行通信。默认为false</span><br><span class="line">eureka.client.use-dns-for-fetching-service-urls=false</span><br><span class="line">#获取要查询的DNS名称来获得eureka服务器，此配置只有在eureka服务器ip地址列表是在DNS中才会用到。默认为null</span><br><span class="line">eureka.client.eureka-server-d-n-s-name=</span><br><span class="line">#获取eureka服务器的端口，此配置只有在eureka服务器ip地址列表是在DNS中才会用到。默认为null</span><br><span class="line">eureka.client.eureka-server-port=</span><br><span class="line">#表示eureka注册中心的路径，如果配置为eureka，则为http://x.x.x.x:x/eureka/，在eureka的配置文件中加入此配置表示eureka作为客户端向注册中心注册，从而构成eureka集群。此配置只有在eureka服务器ip地址列表是在DNS中才会用到，默认为null</span><br><span class="line">eureka.client.eureka-server-u-r-l-context=</span><br></pre></td></tr></table></figure>
<h4 id="Eureka-Server配置"><a href="#Eureka-Server配置" class="headerlink" title="Eureka Server配置"></a>Eureka Server配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">################server 与 client 关联的配置#####################</span><br><span class="line">#服务端开启自我保护模式。无论什么情况，服务端都会保持一定数量的服务。避免client与server的网络问题，而出现大量的服务被清除。</span><br><span class="line">eureka.server.enable-self-preservation=true</span><br><span class="line">#开启清除无效服务的定时任务，时间间隔。默认1分钟</span><br><span class="line">eureka.server.eviction-interval-timer-in-ms= 60000</span><br><span class="line">#间隔多长时间，清除过期的delta数据</span><br><span class="line">eureka.server.delta-retention-timer-interval-in-ms=0</span><br><span class="line">#过期数据，是否也提供给client</span><br><span class="line">eureka.server.disable-delta=false</span><br><span class="line">#eureka服务端是否记录client的身份header</span><br><span class="line">eureka.server.log-identity-headers=true</span><br><span class="line">#请求频率限制器</span><br><span class="line">eureka.server.rate-limiter-burst-size=10</span><br><span class="line">#是否开启请求频率限制器</span><br><span class="line">eureka.server.rate-limiter-enabled=false</span><br><span class="line">#请求频率的平均值</span><br><span class="line">eureka.server.rate-limiter-full-fetch-average-rate=100</span><br><span class="line">#是否对标准的client进行频率请求限制。如果是false，则只对非标准client进行限制</span><br><span class="line">eureka.server.rate-limiter-throttle-standard-clients=false</span><br><span class="line">#注册服务、拉去服务列表数据的请求频率的平均值</span><br><span class="line">eureka.server.rate-limiter-registry-fetch-average-rate=500</span><br><span class="line">#设置信任的client list</span><br><span class="line">eureka.server.rate-limiter-privileged-clients=</span><br><span class="line">#在设置的时间范围类，期望与client续约的百分比。</span><br><span class="line">eureka.server.renewal-percent-threshold=0.85</span><br><span class="line">#多长时间更新续约的阈值</span><br><span class="line">eureka.server.renewal-threshold-update-interval-ms=0</span><br><span class="line">#对于缓存的注册数据，多长时间过期</span><br><span class="line">eureka.server.response-cache-auto-expiration-in-seconds=180</span><br><span class="line">#多长时间更新一次缓存中的服务注册数据</span><br><span class="line">eureka.server.response-cache-update-interval-ms=0</span><br><span class="line">#缓存增量数据的时间，以便在检索的时候不丢失信息</span><br><span class="line">eureka.server.retention-time-in-m-s-in-delta-queue=0</span><br><span class="line">#当时间戳不一致的时候，是否进行同步</span><br><span class="line">eureka.server.sync-when-timestamp-differs=true</span><br><span class="line">#是否采用只读缓存策略，只读策略对于缓存的数据不会过期。</span><br><span class="line">eureka.server.use-read-only-response-cache=true</span><br><span class="line"></span><br><span class="line">################server 自定义实现的配置#####################</span><br><span class="line">#json的转换的实现类名</span><br><span class="line">eureka.server.json-codec-name=</span><br><span class="line">#PropertyResolver</span><br><span class="line">eureka.server.property-resolver=</span><br><span class="line">#eureka server xml的编解码实现名称</span><br><span class="line">eureka.server.xml-codec-name=</span><br><span class="line"></span><br><span class="line">################server node 与 node 之间关联的配置#####################</span><br><span class="line">#发送复制数据是否在request中，总是压缩</span><br><span class="line">eureka.server.enable-replicated-request-compression=false</span><br><span class="line">#指示群集节点之间的复制是否应批处理以提高网络效率。</span><br><span class="line">eureka.server.batch-replication=false</span><br><span class="line">#允许备份到备份池的最大复制事件数量。而这个备份池负责除状态更新的其他事件。可以根据内存大小，超时和复制流量，来设置此值得大小</span><br><span class="line">eureka.server.max-elements-in-peer-replication-pool=10000</span><br><span class="line">#允许备份到状态备份池的最大复制事件数量</span><br><span class="line">eureka.server.max-elements-in-status-replication-pool=10000</span><br><span class="line">#多个服务中心相互同步信息线程的最大空闲时间</span><br><span class="line">eureka.server.max-idle-thread-age-in-minutes-for-peer-replication=15</span><br><span class="line">#状态同步线程的最大空闲时间</span><br><span class="line">eureka.server.max-idle-thread-in-minutes-age-for-status-replication=15</span><br><span class="line">#服务注册中心各个instance相互复制数据的最大线程数量</span><br><span class="line">eureka.server.max-threads-for-peer-replication=20</span><br><span class="line">#服务注册中心各个instance相互复制状态数据的最大线程数量</span><br><span class="line">eureka.server.max-threads-for-status-replication=1</span><br><span class="line">#instance之间复制数据的通信时长</span><br><span class="line">eureka.server.max-time-for-replication=30000</span><br><span class="line">#正常的对等服务instance最小数量。-1表示服务中心为单节点。</span><br><span class="line">eureka.server.min-available-instances-for-peer-replication=-1</span><br><span class="line">#instance之间相互复制开启的最小线程数量</span><br><span class="line">eureka.server.min-threads-for-peer-replication=5</span><br><span class="line">#instance之间用于状态复制，开启的最小线程数量</span><br><span class="line">eureka.server.min-threads-for-status-replication=1</span><br><span class="line">#instance之间复制数据时可以重试的次数</span><br><span class="line">eureka.server.number-of-replication-retries=5</span><br><span class="line">#eureka节点间间隔多长时间更新一次数据。默认10分钟。</span><br><span class="line">eureka.server.peer-eureka-nodes-update-interval-ms=600000</span><br><span class="line">#eureka服务状态的相互更新的时间间隔。</span><br><span class="line">eureka.server.peer-eureka-status-refresh-time-interval-ms=0</span><br><span class="line">#eureka对等节点间连接超时时间</span><br><span class="line">eureka.server.peer-node-connect-timeout-ms=200</span><br><span class="line">#eureka对等节点连接后的空闲时间</span><br><span class="line">eureka.server.peer-node-connection-idle-timeout-seconds=30</span><br><span class="line">#节点间的读数据连接超时时间</span><br><span class="line">eureka.server.peer-node-read-timeout-ms=200</span><br><span class="line">#eureka server 节点间连接的总共最大数量</span><br><span class="line">eureka.server.peer-node-total-connections=1000</span><br><span class="line">#eureka server 节点间连接的单机最大数量</span><br><span class="line">eureka.server.peer-node-total-connections-per-host=10</span><br><span class="line">#在服务节点启动时，eureka尝试获取注册信息的次数</span><br><span class="line">eureka.server.registry-sync-retries=</span><br><span class="line">#在服务节点启动时，eureka多次尝试获取注册信息的间隔时间</span><br><span class="line">eureka.server.registry-sync-retry-wait-ms=</span><br><span class="line">#当eureka server启动的时候，不能从对等节点获取instance注册信息的情况，应等待多长时间。</span><br><span class="line">eureka.server.wait-time-in-ms-when-sync-empty=0</span><br><span class="line"></span><br><span class="line">################server 与 remote 关联的配置#####################</span><br><span class="line">#过期数据，是否也提供给远程region</span><br><span class="line">eureka.server.disable-delta-for-remote-regions=false</span><br><span class="line">#回退到远程区域中的应用程序的旧行为 (如果已配置) 如果本地区域中没有该应用程序的实例, 则将被禁用。</span><br><span class="line">eureka.server.disable-transparent-fallback-to-other-region=false</span><br><span class="line">#指示在服务器支持的情况下, 是否必须为远程区域压缩从尤里卡服务器获取的内容。</span><br><span class="line">eureka.server.g-zip-content-from-remote-region=true</span><br><span class="line">#连接eureka remote note的连接超时时间</span><br><span class="line">eureka.server.remote-region-connect-timeout-ms=1000</span><br><span class="line">#remote region 应用白名单</span><br><span class="line">eureka.server.remote-region-app-whitelist.</span><br><span class="line">#连接eureka remote note的连接空闲时间</span><br><span class="line">eureka.server.remote-region-connection-idle-timeout-seconds=30</span><br><span class="line">#执行remote region 获取注册信息的请求线程池大小</span><br><span class="line">eureka.server.remote-region-fetch-thread-pool-size=20</span><br><span class="line">#remote region 从对等eureka加点读取数据的超时时间</span><br><span class="line">eureka.server.remote-region-read-timeout-ms=1000</span><br><span class="line">#从remote region 获取注册信息的时间间隔</span><br><span class="line">eureka.server.remote-region-registry-fetch-interval=30</span><br><span class="line">#remote region 连接eureka节点的总连接数量</span><br><span class="line">eureka.server.remote-region-total-connections=1000</span><br><span class="line">#remote region 连接eureka节点的单机连接数量</span><br><span class="line">eureka.server.remote-region-total-connections-per-host=50</span><br><span class="line">#remote region抓取注册信息的存储文件，而这个可靠的存储文件需要全限定名来指定</span><br><span class="line">eureka.server.remote-region-trust-store=</span><br><span class="line">#remote region 储存的文件的密码</span><br><span class="line">eureka.server.remote-region-trust-store-password=</span><br><span class="line">#remote region url.多个逗号隔开</span><br><span class="line">eureka.server.remote-region-urls=</span><br><span class="line">#remote region url.多个逗号隔开</span><br><span class="line">eureka.server.remote-region-urls-with-name.</span><br><span class="line"></span><br><span class="line">################server 与 ASG/AWS/EIP/route52 之间关联的配置#####################</span><br><span class="line">#缓存ASG信息的过期时间。</span><br><span class="line">eureka.server.a-s-g-cache-expiry-timeout-ms=0</span><br><span class="line">#查询ASG信息的超时时间</span><br><span class="line">eureka.server.a-s-g-query-timeout-ms=300</span><br><span class="line">#服务更新ASG信息的频率</span><br><span class="line">eureka.server.a-s-g-update-interval-ms=0</span><br><span class="line">#AWS访问ID</span><br><span class="line">eureka.server.a-w-s-access-id=</span><br><span class="line">#AWS安全密钥</span><br><span class="line">eureka.server.a-w-s-secret-key=</span><br><span class="line">#AWS绑定策略</span><br><span class="line">eureka.server.binding-strategy=eip</span><br><span class="line">#用于从第三方AWS 帐户描述自动扩展分组的角色的名称。</span><br><span class="line">eureka.server.list-auto-scaling-groups-role-name=</span><br><span class="line">#是否应该建立连接引导</span><br><span class="line">eureka.server.prime-aws-replica-connections=true</span><br><span class="line">#服务端尝试绑定候选EIP的次数</span><br><span class="line">eureka.server.e-i-p-bind-rebind-retries=3</span><br><span class="line">#服务端绑定EIP的时间间隔.如果绑定就检查;如果绑定失效就重新绑定。当且仅当已经绑定的情况</span><br><span class="line">eureka.server.e-i-p-binding-retry-interval-ms=10</span><br><span class="line">#服务端绑定EIP的时间间隔.当且仅当服务为绑定的情况</span><br><span class="line">eureka.server.e-i-p-binding-retry-interval-ms-when-unbound=</span><br><span class="line">#服务端尝试绑定route53的次数</span><br><span class="line">eureka.server.route53-bind-rebind-retries=3</span><br><span class="line">#服务端间隔多长时间尝试绑定route53</span><br><span class="line">eureka.server.route53-binding-retry-interval-ms=30</span><br><span class="line">#</span><br><span class="line">eureka.server.route53-domain-t-t-l=10</span><br></pre></td></tr></table></figure>
</div><div class="post-copyright"><blockquote><p>原文作者: 西瓜哥</p><p>原文链接: <a href="http://yoursite.com/2020/01/07/springCloud-Eureka-配置/">http://yoursite.com/2020/01/07/springCloud-Eureka-配置/</a></p><p>版权声明: 转载请注明出处(必须保留原文作者署名原文链接)</p></blockquote></div><div class="tags"><a href="/tags/springCloud-eureka/">springCloud eureka</a></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2019/11/26/linux新增磁盘/" class="next">linux新增磁盘</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#springCloud-Eureka-配置"><span class="toc-text">springCloud_Eureka_配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Eureka-instance"><span class="toc-text">Eureka instance</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Eureka-service"><span class="toc-text">Eureka service</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Eureka-client"><span class="toc-text">Eureka client</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Eureka-server"><span class="toc-text">Eureka server</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Eureka-instance-配置项"><span class="toc-text">Eureka instance 配置项</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Eureka-client-配置"><span class="toc-text">Eureka client 配置</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Eureka-Server配置"><span class="toc-text">Eureka Server配置</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/01/07/springCloud-Eureka-配置/">springCloud_Eureka_配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/26/linux新增磁盘/">linux新增磁盘</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/21/linux防火墙开启测试/">linux防火墙开启测试</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/20/更改gitlab-clone的external-url/">更改gitlab clone的external_url</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/19/mideng/">mideng</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/09/12/mysql查看锁/">'mysql查看锁'</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/08/08/idea-highlight/">idea_highlight</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/28/spring-factoryBean/">spring_factoryBean</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/28/spring-import/">spring_import</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/07/27/spring-basic/">spring_basic</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/apollo/" style="font-size: 15px;">apollo</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/centos7-linux/" style="font-size: 15px;">centos7,linux</a> <a href="/tags/docker-jenkins/" style="font-size: 15px;">docker jenkins</a> <a href="/tags/gitLab/" style="font-size: 15px;">gitLab</a> <a href="/tags/jenkins/" style="font-size: 15px;">jenkins</a> <a href="/tags/hightLight/" style="font-size: 15px;">hightLight</a> <a href="/tags/gitlab/" style="font-size: 15px;">gitlab</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/mysql-锁/" style="font-size: 15px;">mysql ,锁</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/import/" style="font-size: 15px;">import</a> <a href="/tags/springboot/" style="font-size: 15px;">springboot</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/spring基础/" style="font-size: 15px;">spring基础</a> <a href="/tags/springCloud-eureka/" style="font-size: 15px;">springCloud eureka</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">西瓜哥.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>